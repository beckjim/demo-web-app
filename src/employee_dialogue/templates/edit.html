{% extends "base.html" %}
{% block content %}
<section class="card">
    <h2>Edit Self Assessment</h2>
    <form method="post" action="{{ url_for('edit_entry', entry_id=entry.id) }}">
        <div>
            <label for="name">Name</label>
            <input id="name" name="name" value="{{ entry.name }}" readonly required>
        </div>
        <div>
            <label for="email">Email</label>
            <input id="email" name="email" type="email" value="{{ entry.email }}" readonly required>
        </div>
        <div>
            <label for="manager_name">Manager</label>
            <input id="manager_name" name="manager_name" value="{{ entry.manager_name }}" readonly>
        </div>
        <fieldset>
            <legend>Assessment of Objectives *</legend>
            <p>Please evaluate below your performance on your objectives for the reference period.</p>

            <div class="ability-grid">
                <div class="ability-row">
                    <div class="ability-label">Implement activities defined in the EUROfusion job description</div>
                    {% for choice in objective_choices %}
                    <label class="radio-option">
                        <input type="radio" name="objective_rating" value="{{ choice }}" {% if
                            entry.objective_rating==choice %}checked{% endif %} required>
                        <span>{{ choice }}</span>
                    </label>
                    {% endfor %}
                </div>
            </div>
            <div style="height: 1rem;"></div>
            <div>
                <label class="comment-label" for="objective_comment">Comments to the assessment of Objectives *</label>
                <p>Mandatory in all cases, base your comments on the goals of the previous year. If you selected
                    "Exceeded objective", justify the choice.</p>
                <textarea id="objective_comment" name="objective_comment"
                    required>{{ entry.objective_comment }}</textarea>
            </div>
        </fieldset>
        <fieldset>
            <legend>Abilities *</legend>
            <p>Please provide a rating for each criteria. If a competency is not relevant for the position select N/A
                (not applicable).</p>
            <div class="ability-grid">
                <div class="ability-row">
                    <div class="ability-label">Technical/functional skills</div>
                    {% for choice in ability_choices %}
                    <label class="radio-option">
                        <input type="radio" name="technical_rating" value="{{ choice }}" {% if
                            entry.technical_rating==choice %}checked{% endif %} required>
                        <span>{{ choice }}</span>
                    </label>
                    {% endfor %}
                </div>
                <div class="ability-row">
                    <div class="ability-label">Project management</div>
                    {% for choice in ability_choices %}
                    <label class="radio-option">
                        <input type="radio" name="project_rating" value="{{ choice }}" {% if
                            entry.project_rating==choice %}checked{% endif %} required>
                        <span>{{ choice }}</span>
                    </label>
                    {% endfor %}
                </div>
                <div class="ability-row">
                    <div class="ability-label">Methodology/processes competencies</div>
                    {% for choice in ability_choices %}
                    <label class="radio-option">
                        <input type="radio" name="methodology_rating" value="{{ choice }}" {% if
                            entry.methodology_rating==choice %}checked{% endif %} required>
                        <span>{{ choice }}</span>
                    </label>
                    {% endfor %}
                </div>
            </div>
            <div>
                <label class="comment-label" for="abilities_comment">In case you selected "Exceeds expectations" on the
                    abilities question
                    above, justify your choice. *</label>
                <p>If there are no comments or justification, please write N/A (not applicable).
                </p>
                <textarea id="abilities_comment" name="abilities_comment"
                    required>{{ entry.abilities_comment }}</textarea>
            </div>
        </fieldset>
        <fieldset>
            <legend>Efficiency *</legend>
            <p>Please provide a rating for each criteria. If a competency is not relevant for the position select N/A
                (not applicable).</p>
            <div class="ability-grid">
                <div class="ability-row">
                    <div class="ability-label">Collaboration</div>
                    {% for choice in ability_choices %}
                    <label class="radio-option">
                        <input type="radio" name="efficiency_collaboration" value="{{ choice }}" {% if
                            entry.efficiency_collaboration==choice %}checked{% endif %} required>
                        <span>{{ choice }}</span>
                    </label>
                    {% endfor %}
                </div>
                <div class="ability-row">
                    <div class="ability-label">Ownership</div>
                    {% for choice in ability_choices %}
                    <label class="radio-option">
                        <input type="radio" name="efficiency_ownership" value="{{ choice }}" {% if
                            entry.efficiency_ownership==choice %}checked{% endif %} required>
                        <span>{{ choice }}</span>
                    </label>
                    {% endfor %}
                </div>
                <div class="ability-row">
                    <div class="ability-label">Resourcefulness</div>
                    {% for choice in ability_choices %}
                    <label class="radio-option">
                        <input type="radio" name="efficiency_resourcefulness" value="{{ choice }}" {% if
                            entry.efficiency_resourcefulness==choice %}checked{% endif %} required>
                        <span>{{ choice }}</span>
                    </label>
                    {% endfor %}
                </div>
            </div>

            <div>
                <label class="comment-label" for="efficiency_comment">In case you selected "Exceeds expectations" on the
                    efficiency question
                    above, justify your choice. *</label>
                <p>If there are no comments or justification, please write N/A (not applicable).</p>
                <textarea id="efficiency_comment" name="efficiency_comment"
                    required>{{ entry.efficiency_comment }}</textarea>
            </div>
        </fieldset>

        <fieldset>
            <legend>Conduct in the service *</legend>
            <p>Please provide a rating for each criteria/competency. If the Leadership competency is not relevant for
                the position select N/A (not applicable).</p>
            <div class="ability-grid">
                <div class="ability-row">
                    <div class="ability-label">Mutual trust and respect</div>
                    {% for choice in ability_choices %}
                    <label class="radio-option">
                        <input type="radio" name="conduct_mutual_trust" value="{{ choice }}" {% if
                            entry.conduct_mutual_trust==choice %}checked{% endif %} required>
                        <span>{{ choice }}</span>
                    </label>
                    {% endfor %}
                </div>
                <div class="ability-row">
                    <div class="ability-label">Proactivity</div>
                    {% for choice in ability_choices %}
                    <label class="radio-option">
                        <input type="radio" name="conduct_proactivity" value="{{ choice }}" {% if
                            entry.conduct_proactivity==choice %}checked{% endif %} required>
                        <span>{{ choice }}</span>
                    </label>
                    {% endfor %}
                </div>
                <div class="ability-row">
                    <div class="ability-label">Leadership</div>
                    {% for choice in ability_choices %}
                    <label class="radio-option">
                        <input type="radio" name="conduct_leadership" value="{{ choice }}" {% if
                            entry.conduct_leadership==choice %}checked{% endif %} required>
                        <span>{{ choice }}</span>
                    </label>
                    {% endfor %}
                </div>
            </div>

            <div>
                <label class="comment-label" for="conduct_comment">In case you selected "Exceeds expectations" on the
                    conduct question
                    above, justify your choice. *</label>
                <p>If there are no comments or justification, please write N/A (not applicable).</p>
                <textarea id="conduct_comment" name="conduct_comment" required>{{ entry.conduct_comment }}</textarea>
            </div>
        </fieldset>

        <fieldset>
            <legend>Did you get feedback on your performance over the course of the reporting period? *</legend>
            <div class="ability-grid">
                <div class="ability-row" style="justify-content: flex-start; gap: 20px;">
                    <label class="radio-option" style="flex: 0 0 auto;">
                        <input type="radio" name="feedback_received" value="Yes" {% if entry.feedback_received=='Yes'
                            %}checked{% endif %} required>
                        <span>Yes</span>
                    </label>
                    <label class="radio-option" style="flex: 0 0 auto;">
                        <input type="radio" name="feedback_received" value="No" {% if entry.feedback_received=='No'
                            %}checked{% endif %} required>
                        <span>No</span>
                    </label>
                </div>
            </div>
        </fieldset>

        <fieldset>
            <legend>General Comments from employee *</legend>
            <p>Anything the employee would like to add to the above including any feedback/suggestions to your
                manager(s)? In case you have wishes for potential training or changes in working conditions, please
                address them in this section</p>
            <div>
                <textarea id="general_comments" name="general_comments" required>{{ entry.general_comments }}</textarea>
            </div>
        </fieldset>

        <div class="actions">
            <button type="submit">Save Changes</button>
            <a class="button-link" href="{{ url_for('index') }}">Back to Self Assessments</a>
        </div>
    </form>
</section>
{% endblock %}